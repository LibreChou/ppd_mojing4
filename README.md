# 第四届魔镜杯大赛 建模分享
## 项目背景
资金流动性管理迄今仍是金融领域的经典问题。在互联网金融信贷业务中，单个资产标的金额小且复杂多样，对于拥有大量出借资金的金融机构或散户而言，资金管理压力巨大，精准地预测出借资金的流动情况变得尤为重要。本次比赛以互联网金融信贷业务为背景，以《现金流预测》为题，希望选手能够利用我们提供的数据，精准地预测资产组合在未来一段时间内每日的回款金额。
本赛题涵盖了信贷违约预测、现金流预测等金融领域常见问题，同时又是复杂的时序问题和多目标预测问题。希望参赛者利用聪明才智把互联网金融的数据优势转化为行业解决方案。
![](https://aifile.ppdai.com/752890cd0f9e4aa0b36d529bd4433580..png)

## 数据介绍

本赛题对回款预测问题进行了简化，选手需要分别预测**每个资产标的第一期从成交日期至第一期应还款日期每日的还款金额，并最终在整体上以资产组合每日还款的误差作为评价指标。**

我们提供了2018年1月1日至2018年12月31日的标的第一期的还款数据作为训练集，需要选手预测2019年2月1日至2019年3月31日成交标的第一期的还款情况。同时还提供了相关的标的属性信息，借款用户基础信息、画像标签和行为日志等数据供选手使用。

**注：为了保护用户隐私和比赛的公正性，数据经过脱敏处理，同时进行了必要过滤和有偏采样。**

**数据集描述**

**1\. 样本集（train.csv和test.csv）**

本赛题提供的样本集包含训练集（train.csv）和测试集（test.csv），它们的数据表结构基本一致，但测试集中不含实际还款信息。整个样本集共有约113万个标的和90万位借款用户，部分借款用户可能有多个标的记录，但在测试集时间范围内每位用户只有一条记录。

![](https://aifile.ppdai.com/d38f4e16e9fc41d9b20ea14998b71227..png)

注：上述的数据都经过脱敏处理，脱敏后的数据分布和数值大小关系与脱敏前基本一致。

**2\. 标的属性表（listing_info.csv）**

标的属性表包含了本赛题涉及的所有标的，包括：(1) 样本集中所有标的；(2) 样本集中所有借款用户在过去一段时间内成交和还款的标的。标的属性信息在成交时确定，后续不再变更。

![](https://aifile.ppdai.com/89a5bbbb5bc14934957d6aa7ea793b5d..png)

注：上述的数据都经过脱敏处理，脱敏后的数据分布和数值大小关系与脱敏前基本一致。

**3\. 借款用户基础信息表（user_info.csv）**

借款用户基础信息表包含了本赛题涉及的所有用户，用户信息可能发生变更，表中同一用户可能存在多条数据。

![](https://aifile.ppdai.com/b04e4fc9d3db4c82ac575011356ab02a..png)

注：上述的数据都经过脱敏处理，地址类字段为编码数据，城市字段前三位为所属省份ID。

**4\. 用户画像标签列表（user_taglist.csv）**

用户画像标签列表提供了用户的标签信息，用户标签可能发生变更，表中同一用户可能存在多条数据；若在表中无法查到用户标签信息，则表示该用户标签信息未知。

![](https://aifile.ppdai.com/7abc249eaac14e6ca59b57e51f7fa13f..png)

注：上述的数据都经过脱敏处理。

**5.** **借款用户操作行为日志表（user_behavior_logs.csv）**

借款用户操作行为日志表提供了每位用户在过去一段时间内的操作行为日志数据，行为发生时间精确到秒级，相同用户的相同行为在同一秒内可能出现多条数据。

![](https://aifile.ppdai.com/c0dfb50c7e8643589c1a12d72b37d359..png)

注：上述的数据都经过脱敏处理。

**6\. 用户还款日志表（user_repay_logs.csv）**

借款用户还款日志表提供了每位用户在过去一段时期内的还款日志数据。

![](https://aifile.ppdai.com/48cd690d39ec4e2497a86b4be4f144b5..png)

注1：上述的数据都经过脱敏处理，脱敏后的数据分布和数值大小关系与脱敏前基本一致；

注2：脱敏后，若还款时本期已逾期，repay_date(实际还款日期)字段默认值为“2200-01-01”，脱敏前实际还款日期一定早于用户最近一个新成交标的成交日期。

## 数据EDA以及规律发现


## 特征工程
### 基础静态特征

### 用户还款行为特征提取
1. 类别1

2. 类别2

3. 类别3

### 用户历史行为特征提取

### 标的分类历史特征提取

### 用户标签NLP特征提取

### 其他衍生特征

## 模型调参和线下验证

## 建模总结
1. 标的组合是这次比赛的“败笔”
2. 单个标的预测更加准确 意味着 全局结果更加准确吗？
3. 

我们模型的优点：
1. 模拟构建出了线下测试集，规则引入简单有效。
2. 仅仅使用了训练集数据。特征简单高效(也有详细特征版本)
3. 